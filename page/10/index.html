<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-tw">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="Ovk0hBXjKPPKtg5oCm39lxBF-ASTmfYJwoxb1aUUOEo" />


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Jay's Code" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="慢慢學習。">
<meta property="og:type" content="website">
<meta property="og:title" content="Jay's Code">
<meta property="og:url" content="http://windsuzu.github.io/page/10/index.html">
<meta property="og:site_name" content="Jay's Code">
<meta property="og:description" content="慢慢學習。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jay's Code">
<meta name="twitter:description" content="慢慢學習。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://windsuzu.github.io/page/10/"/>





  <title> Jay's Code </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jay's Code</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Study Recording</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            標籤
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            檢索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-496/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-496/" itemprop="url">
                  LeetCode#496 Next Greater Element I - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-08-04T00:37:21+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Stack/" itemprop="url" rel="index">
                    <span itemprop="name">Stack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-496/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-496/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>You are given two arrays (without duplicates) nums1 and nums2 where nums1’s elements are subset of nums2. Find all the next greater numbers for nums1’s elements in the corresponding places of nums2.</p>
<p>The Next Greater Number of a number x in nums1 is the first greater number to its right in nums2. If it does not exist, output -1 for this number.</p>
<p>給兩個沒有重複元素的陣列 <code>nums1</code> &amp; <code>nums2</code> ，其中 <code>nums1</code> 是 <code>nums2</code>的子集。</p>
<p>找出 <code>nums1</code> 對應於 <code>nums2</code> 的 next greater number ?_?</p>
<p>如果找到了，就把 <code>nums2</code> 對應的 next greater number 覆蓋回 <code>nums1</code> 原來的位子，如果找不到就覆蓋 <code>-1</code> 回去。</p>
<p>Example 1:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> <span class="type">Input</span>: nums1 = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>], nums2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>].</div><div class="line"> <span class="type">Output</span>: [-<span class="number">1</span>,<span class="number">3</span>,-<span class="number">1</span>]</div><div class="line"> </div><div class="line"><span class="type">Explanation</span>:</div><div class="line"> <span class="type">For</span> number <span class="number">4</span> <span class="keyword">in</span> the first array, you cannot <span class="built_in">find</span> the next greater number <span class="keyword">for</span> it <span class="keyword">in</span> the second array, so output -<span class="number">1</span>.</div><div class="line"> <span class="type">For</span> number <span class="number">1</span> <span class="keyword">in</span> the first array, the next greater number <span class="keyword">for</span> it <span class="keyword">in</span> the second array <span class="keyword">is</span> <span class="number">3</span>.</div><div class="line"> <span class="type">For</span> number <span class="number">2</span> <span class="keyword">in</span> the first array, there <span class="keyword">is</span> no next greater number <span class="keyword">for</span> it <span class="keyword">in</span> the second array, so output -<span class="number">1</span>.</div></pre></td></tr></table></figure></p>
<p>nums1 的 4 在 nums2 找不到比 4 更大的數。所以回傳 -1 回去 nums1 的第一個位子。<br>nums1 的 1 在 nums2 往右找找到 3 比他大。所以回傳 3 回去 nums1 的第二個位子。<br>nums1 的 2 在 nums2 的第四個位子，他的右邊沒人，沒辦法再往右找了。所以回傳 -1 回去 nums1 的第三個位子。</p>
<p>Example 2:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> <span class="type">Input</span>: nums1 = [<span class="number">2</span>,<span class="number">4</span>], nums2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].</div><div class="line"> <span class="type">Output</span>: [<span class="number">3</span>,-<span class="number">1</span>]</div><div class="line"> </div><div class="line"><span class="type">Explanation</span>:</div><div class="line"> <span class="type">For</span> number <span class="number">2</span> <span class="keyword">in</span> the first array, the next greater number <span class="keyword">for</span> it <span class="keyword">in</span> the second array <span class="keyword">is</span> <span class="number">3</span>.</div><div class="line"> <span class="type">For</span> number <span class="number">4</span> <span class="keyword">in</span> the first array, there <span class="keyword">is</span> no next greater number <span class="keyword">for</span> it <span class="keyword">in</span> the second array, so output -<span class="number">1</span>.</div></pre></td></tr></table></figure></p>
<p>nums1 的 2 在 nums2 往右找找到 3 比他大。所以回傳 3 回去 nums1 的第一個位子。<br>nums1 的 4 在 nums2 的第四個位子，他的右邊沒人，沒辦法再往右找了。所以回傳 -1 回去 nums1 的第二個位子。</p>
<h1 id="第一次解題-Wrong-Answer"><a href="#第一次解題-Wrong-Answer" class="headerlink" title="第一次解題 : Wrong Answer"></a>第一次解題 : Wrong Answer</h1><p>第一次完全理解錯題目。以為是要比較該數字在陣列2的右邊數字。<br>結果不是比較右邊的，是往右一直尋遍找出有無比原數字大的數字。<br>第一個找出來的數字即是回傳值。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="number">_</span> findNums: [Int], <span class="number">_</span> nums: [Int])</span></span> -&gt; [<span class="type">Int</span>] &#123;</div><div class="line">    <span class="keyword">var</span> result = [<span class="type">Int</span>]()</div><div class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> findNums &#123;</div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> next = nums.index(of: num), next + <span class="number">1</span> &lt; nums.<span class="built_in">count</span> &#123;</div><div class="line">            result.append(num &lt; nums[next + <span class="number">1</span>] ? nums[next + <span class="number">1</span>] : -<span class="number">1</span>)</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            result.append(-<span class="number">1</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="第二次解題-299-ms"><a href="#第二次解題-299-ms" class="headerlink" title="第二次解題 : 299 ms"></a>第二次解題 : 299 ms</h1><p>先給最右邊的數字，返回 -1<br>不為最右邊的數字，開始從下一個位子找到最後，找出where num &lt; nums[i]的值<br>跳出迴圈並且賦值。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="number">_</span> findNums: [Int], <span class="number">_</span> nums: [Int])</span></span> -&gt; [<span class="type">Int</span>] &#123;</div><div class="line">        <span class="keyword">var</span> result = [<span class="type">Int</span>]()</div><div class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> findNums &#123;</div><div class="line">            <span class="keyword">if</span> <span class="keyword">let</span> next = nums.index(of: num), next + <span class="number">1</span> &lt; nums.<span class="built_in">count</span> &#123;</div><div class="line">                <span class="keyword">var</span> value = -<span class="number">1</span></div><div class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> next + <span class="number">1</span>..&lt;nums.<span class="built_in">count</span> <span class="keyword">where</span> num &lt; nums[i] &#123;</div><div class="line">                    value = nums[i]</div><div class="line">                    <span class="keyword">break</span></div><div class="line">                &#125;</div><div class="line">                result.append(value)</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                result.append(-<span class="number">1</span>)</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Best-Solution-From-Java"><a href="#Best-Solution-From-Java" class="headerlink" title="Best Solution From Java"></a>Best Solution From Java</h1><p>看到了 Java <a href="https://discuss.leetcode.com/topic/77916/java-10-lines-linear-time-complexity-o-n-with-explanation" target="_blank" rel="external">高度評論的解答</a>雖然他使用的是 Java 中才有的 Stack Class，但我還是試著理解並且轉成了 swift 。</p>
<p>假設 nums 為 [6,5,4,3,2,1,7]， 那就可以知道全部數字的 greater number 是 6<br>先將 num 裝進 stack 中，不斷的裝進去，只要有數字 a 大於最上層的數字 b。<br>就將他加到 dict 裡 (a : b)，並且 pop 掉該數字 a 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">到 [6,5,4,3,2,1] 的時候都還沒觸發 while 內的事件。</div><div class="line">7 出現後比對 1 -&gt; dict[1:7] , stack -&gt; [6,5,4,3,2]</div><div class="line">比對 2 -&gt; dict[1:7, 2:7] , stack -&gt; [6,5,4,3]</div><div class="line">比對 3 -&gt; dict[1:7, 2:7, 3:7] , stack -&gt; [6,5,4]</div><div class="line">最後 dict[1:7, 2:7, 3:7, 4:7, 5:7, 6:7] , stack -&gt; [7]</div></pre></td></tr></table></figure>
<p>最後將 findNums [1,3,5,2,4] 遍尋一遍， 只要數字在 dict 裡面有存在 greater number 的就替換掉，不存在就換成 -1 。<br>發現在 dict 中都可以找到，所以回傳 [7,7,7,7,7]</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="number">_</span> findNums: [Int], <span class="number">_</span> nums: [Int])</span></span> -&gt; [<span class="type">Int</span>] &#123;</div><div class="line">    <span class="keyword">var</span> result = findNums</div><div class="line">    <span class="keyword">var</span> dict = [<span class="type">Int</span>: <span class="type">Int</span>]()</div><div class="line">    <span class="keyword">var</span> stack = [<span class="type">Int</span>]()</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums &#123;</div><div class="line">        <span class="keyword">while</span> !stack.isEmpty &amp;&amp; stack.last! &lt; num &#123;</div><div class="line">            dict[stack.popLast()!] = num</div><div class="line">        &#125;</div><div class="line">        stack.append(num)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;findNums.<span class="built_in">count</span> &#123;</div><div class="line">        result[i] = dict[result[i]] ?? -<span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>｡:.ﾟヽ(*´∀`)ﾉﾟ.:｡ </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-463/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-463/" itemprop="url">
                  LeetCode#463 Island Perimeter - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-08-03T12:49:42+08:00">
                2017-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Hash-Table/" itemprop="url" rel="index">
                    <span itemprop="name">Hash Table</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-463/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-463/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>You are given a map in form of a two-dimensional integer grid where 1 represents land and 0 represents water.<br>Grid cells are connected horizontally/vertically (not diagonally).<br>The grid is completely surrounded by water, and there is exactly one island (i.e., one or more connected land cells).<br>The island doesn’t have “lakes” (water inside that isn’t connected to the water around the island).<br>One cell is a square with side length 1. The grid is rectangular, width and height don’t exceed 100. Determine the perimeter of the island.</p>
<p>有一張小島的二維地圖， 1 代表土地， 0 代表海水。<br>方塊只有縱橫連接，沒有對角連接。<br>土地是被海水包圍成一座小島的，在這張地圖上只有一個小島，且小島是沒有湖的。<br>每個方塊的邊長皆為 1 ，地圖是方形長寬不會超過 100 ，請求出小島的周長。</p>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[[0,1,0,0],</div><div class="line">[1,1,1,0],</div><div class="line">[0,1,0,0],</div><div class="line">[1,1,0,0]]</div></pre></td></tr></table></figure></p>
<p>Answer: 16<br> Explanation: The perimeter is the 16 yellow stripes in the image below:</p>
<p>16條黃色圍起來的就是小島的周長。</p>
<p> <img src="/leetcode-463/island.png" alt="island"></p>
<h1 id="第一次解題-Wrong-Answer"><a href="#第一次解題-Wrong-Answer" class="headerlink" title="第一次解題 : Wrong Answer"></a>第一次解題 : Wrong Answer</h1><p><img src="/leetcode-463/island_commentary.png" alt="island-Commentary"></p>
<p>可以發現 :<br>1.如果土地在第一行或最後一行的時候，該行的土地都要邊長 + 1<br>2.如果土地在第一列或最後一列的時候，該列的土地都要邊長 + 1<br>3.接下來找如果不在第一行時，上面的鄰居是土地時，邊長 + 1<br>4.如果不在最後一行時，下面的鄰居是土地時，邊長 + 1<br>5.接下來找如果不在第一列時，左邊的鄰居是土地時，邊長 + 1<br>6.如果不在最後一列時，右邊的鄰居是土地時，邊長 + 1</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">islandPerimeter</span><span class="params">(<span class="number">_</span> grid: [[Int]])</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> result = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;grid.<span class="built_in">count</span> &#123;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">0</span>..&lt;grid[i].<span class="built_in">count</span> &#123;</div><div class="line">            <span class="keyword">var</span> cellR = <span class="number">0</span></div><div class="line">            <span class="keyword">let</span> cell = grid[i][j]</div><div class="line">            <span class="keyword">if</span> cell == <span class="number">1</span> &#123;</div><div class="line">				cellR = (i == <span class="number">0</span> || i == grid.<span class="built_in">count</span> - <span class="number">1</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">				cellR = (j == <span class="number">0</span> || j == grid[i].<span class="built_in">count</span> - <span class="number">1</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">     </div><div class="line">                <span class="keyword">if</span> i != <span class="number">0</span> &#123;</div><div class="line">                    cellR = (grid[i-<span class="number">1</span>][j] == <span class="number">0</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> i != grid.<span class="built_in">count</span> - <span class="number">1</span> &#123;</div><div class="line">                    cellR = (grid[i+<span class="number">1</span>][j] == <span class="number">0</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> j != <span class="number">0</span> &#123;</div><div class="line">                    cellR = (grid[i][j-<span class="number">1</span>] == <span class="number">0</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> j != grid[i].<span class="built_in">count</span> - <span class="number">1</span> &#123;</div><div class="line">                    cellR = (grid[i][j+<span class="number">1</span>] == <span class="number">0</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">                &#125;</div><div class="line">                result += cellR</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="第二次解題-328-ms"><a href="#第二次解題-328-ms" class="headerlink" title="第二次解題 : 328 ms"></a>第二次解題 : 328 ms</h1><p>第一次交答案的時候錯了，原來 [[1]] 也算一個地圖的一座島</p>
<p>所以下面兩個敘述是錯的 :<br>1.如果土地在第一行或最後一行的時候，該行的土地都要邊長 + 1<br>2.如果土地在第一列或最後一列的時候，該列的土地都要邊長 + 1</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cellR = (i == <span class="number">0</span> || i == grid.<span class="built_in">count</span> - <span class="number">1</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">cellR = (j == <span class="number">0</span> || j == grid[i].<span class="built_in">count</span> - <span class="number">1</span>) ? cellR + <span class="number">1</span> : cellR</div></pre></td></tr></table></figure>
<p>應該是 :<br>1.如果土地在第一行，該行的土地都要邊長 + 1<br>2.如果土地在最後一行，該行的土地都要邊長 + 1<br>3.如果土地在第一列，該列的土地都要邊長 + 1<br>4.如果土地在最後一列，該列的土地都要邊長 + 1</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cellR = (i == <span class="number">0</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">cellR = (i == grid.<span class="built_in">count</span> - <span class="number">1</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line"></div><div class="line">cellR = (j == <span class="number">0</span>) ? cellR + <span class="number">1</span> : cellR</div><div class="line">cellR = (j == grid[i].<span class="built_in">count</span> - <span class="number">1</span>) ? cellR + <span class="number">1</span> : cellR</div></pre></td></tr></table></figure>
<h1 id="Cool-Soultion"><a href="#Cool-Soultion" class="headerlink" title="Cool Soultion"></a>Cool Soultion</h1><p>找出他的規律發現，只要有兩個方塊合在一起，邊長就會少 2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+--+     +--+                   +--+--+</div><div class="line">|  |  +  |  |          -&gt;       |     |</div><div class="line">+--+     +--+                   +--+--+</div><div class="line"> </div><div class="line">4 + 4 - ? = 6  -&gt; ? = 2</div></pre></td></tr></table></figure>
<p>所以找出<code>所有方塊 * 4</code> - <code>鄰居方塊 * 2</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">islandPerimeter</span><span class="params">(<span class="number">_</span> grid: [[Int]])</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> islands = <span class="number">0</span>, neighbors = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;grid.<span class="built_in">count</span> &#123;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">0</span>..&lt;grid[i].<span class="built_in">count</span> &#123;</div><div class="line">            <span class="keyword">if</span> grid[i][j] == <span class="number">1</span> &#123;</div><div class="line">                islands += <span class="number">1</span></div><div class="line">                <span class="keyword">if</span> i &lt; grid.<span class="built_in">count</span> - <span class="number">1</span> &amp;&amp; grid[i+<span class="number">1</span>][j] == <span class="number">1</span> &#123;</div><div class="line">                    neighbors += <span class="number">1</span></div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> j &lt; grid[i].<span class="built_in">count</span> - <span class="number">1</span> &amp;&amp; grid[i][j+<span class="number">1</span>] == <span class="number">1</span> &#123;</div><div class="line">                    neighbors += <span class="number">1</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> islands * <span class="number">4</span> - neighbors * <span class="number">2</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-620/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-620/" itemprop="url">
                  LeetCode#620 Not Boring Movies - in MySQL
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-08-02T19:15:04+08:00">
                2017-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-620/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-620/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>X city opened a new cinema, many people would like to go to this cinema. The cinema also gives out a poster indicating the movies’ ratings and descriptions.</p>
<p>Please write a SQL query to output movies with an odd numbered ID and a description that is not ‘boring’. Order the result by rating.</p>
<p>X City 開了一間電影院， 這間電影院給客人提供了一張海報，上面寫著每部電影的評價與評論。<br>現在請用 SQL 查出奇數的電影 ID，還有評論不為’boring’的電影，最後依評價最高到最低列出來。</p>
<p>For example, table cinema:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   id    | movie     |  description |  rating   |</div><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   1     | War       |   great 3D   |   8.9     |</div><div class="line">|   2     | Science   |   fiction    |   8.5     |</div><div class="line">|   3     | irish     |   boring     |   6.2     |</div><div class="line">|   4     | Ice song  |   Fantacy    |   8.6     |</div><div class="line">|   5     | House card|   Interesting|   9.1     |</div><div class="line">+---------+-----------+--------------+-----------+</div></pre></td></tr></table></figure></p>
<p>For the example above, the output should be:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   id    | movie     |  description |  rating   |</div><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   5     | House card|   Interesting|   9.1     |</div><div class="line">|   1     | War       |   great 3D   |   8.9     |</div><div class="line">+---------+-----------+--------------+-----------+</div></pre></td></tr></table></figure></p>
<h1 id="第一次解題-Wrong-Answer"><a href="#第一次解題-Wrong-Answer" class="headerlink" title="第一次解題 : Wrong Answer"></a>第一次解題 : Wrong Answer</h1><p>沒看好題目就作答<br>看成最後依照 id 高到低排下來 … </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> cinema</div><div class="line"><span class="keyword">WHERE</span> description != <span class="string">'boring'</span> <span class="keyword">AND</span> (<span class="keyword">id</span>%<span class="number">2</span>) = <span class="number">1</span></div><div class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">id</span> <span class="keyword">DESC</span></div></pre></td></tr></table></figure>
<h1 id="第二次解題-256-ms"><a href="#第二次解題-256-ms" class="headerlink" title="第二次解題 : 256 ms"></a>第二次解題 : 256 ms</h1><p>嗚嗚嗚</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> cinema</div><div class="line"><span class="keyword">WHERE</span> description != <span class="string">'boring'</span> <span class="keyword">AND</span> (<span class="keyword">id</span>%<span class="number">2</span>) = <span class="number">1</span></div><div class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> rating <span class="keyword">DESC</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-412/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-412/" itemprop="url">
                  LeetCode#412 Fizz Buzz - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-08-02T13:17:31+08:00">
                2017-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-412/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-412/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Write a program that outputs the string representation of numbers from 1 to n.</p>
<p>But for multiples of three it should output “Fizz” instead of the number and for the multiples of five output “Buzz”. For numbers which are multiples of both three and five output “FizzBuzz”.</p>
<p>寫一個函式， 從 1 數到指定的數字， 遇到 3 就喊 Fizz ， 遇到 5 就喊 Buzz ， 那遇到 15 ..<br> 1! , 2! , Fizz! , 4! , Buzz! … 13! , 14 , FizzBuzz!</p>
<p>Example:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">n = <span class="number">15</span>,</div><div class="line"></div><div class="line"><span class="type">Return</span>:</div><div class="line">[</div><div class="line">    <span class="string">"1"</span>,</div><div class="line">    <span class="string">"2"</span>,</div><div class="line">    <span class="string">"Fizz"</span>,</div><div class="line">    <span class="string">"4"</span>,</div><div class="line">    <span class="string">"Buzz"</span>,</div><div class="line">    <span class="string">"Fizz"</span>,</div><div class="line">    <span class="string">"7"</span>,</div><div class="line">    <span class="string">"8"</span>,</div><div class="line">    <span class="string">"Fizz"</span>,</div><div class="line">    <span class="string">"Buzz"</span>,</div><div class="line">    <span class="string">"11"</span>,</div><div class="line">    <span class="string">"Fizz"</span>,</div><div class="line">    <span class="string">"13"</span>,</div><div class="line">    <span class="string">"14"</span>,</div><div class="line">    <span class="string">"FizzBuzz"</span></div><div class="line">]</div></pre></td></tr></table></figure></p>
<h1 id="第一次解題-32-ms"><a href="#第一次解題-32-ms" class="headerlink" title="第一次解題 : 32 ms"></a>第一次解題 : 32 ms</h1><p>因為 3 跟 5 相乘的數遇到時因為以 15 作為最優先判斷，所以 i % 15 == 0 擺在第一個</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">fizzBuzz</span><span class="params">(<span class="number">_</span> n: Int)</span></span> -&gt; [<span class="type">String</span>] &#123;</div><div class="line">    <span class="keyword">var</span> array = [<span class="type">String</span>]()</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...n &#123;</div><div class="line">        <span class="keyword">if</span> i%<span class="number">15</span> == <span class="number">0</span> &#123;</div><div class="line">            array.append(<span class="string">"FizzBuzz"</span>)</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> i%<span class="number">5</span> == <span class="number">0</span> &#123;</div><div class="line">            array.append(<span class="string">"Buzz"</span>)</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> i%<span class="number">3</span> == <span class="number">0</span> &#123;</div><div class="line">            array.append(<span class="string">"Fizz"</span>)</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            array.append(<span class="string">"\(i)"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> array</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="更快速解法-4-ms"><a href="#更快速解法-4-ms" class="headerlink" title="更快速解法 : 4 ms"></a>更快速解法 : 4 ms</h1><p>雖然看起來更不容易讀，但因為沒有使用到 % 的運算，所以執行速度快了一些<br>每次迴圈各對 fizz 跟 buzz + 1<br>遇到判斷就轉成字串放到 array 中，把 fizz 或 buzz 歸零</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">fizzBuzz</span><span class="params">(<span class="number">_</span> n: Int)</span></span> -&gt; [<span class="type">String</span>] &#123;</div><div class="line">    <span class="keyword">var</span> array = [<span class="type">String</span>]()</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> fizz = <span class="number">0</span>, buzz = <span class="number">0</span></div><div class="line">    </div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...n &#123;</div><div class="line">        fizz+=<span class="number">1</span></div><div class="line">        buzz+=<span class="number">1</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> fizz == <span class="number">3</span> &amp;&amp; buzz == <span class="number">5</span> &#123;</div><div class="line">            array.append(<span class="string">"FizzBuzz"</span>)</div><div class="line">            fizz = <span class="number">0</span></div><div class="line">            buzz = <span class="number">0</span></div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> fizz == <span class="number">3</span> &#123;</div><div class="line">            array.append(<span class="string">"Fizz"</span>)</div><div class="line">            fizz = <span class="number">0</span></div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> buzz == <span class="number">5</span> &#123;</div><div class="line">            array.append(<span class="string">"Buzz"</span>)</div><div class="line">            buzz = <span class="number">0</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            array.append(<span class="string">"\(i)"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> array</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-344/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-344/" itemprop="url">
                  LeetCode#344 Reverse String - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-08-02T12:48:53+08:00">
                2017-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Two-Pointers/" itemprop="url" rel="index">
                    <span itemprop="name">Two Pointers</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Two-Pointers/String/" itemprop="url" rel="index">
                    <span itemprop="name">String</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-344/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-344/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Write a function that takes a string as input and returns the string reversed.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Example:</div><div class="line">Given s = &quot;hello&quot;, return &quot;olleh&quot;.</div></pre></td></tr></table></figure>
<p>寫個函式將字串反轉過來。<br> 輸入: “hello”<br> 輸出: “olleh”</p>
<h1 id="第一次解題-229-ms"><a href="#第一次解題-229-ms" class="headerlink" title="第一次解題 : 229 ms"></a>第一次解題 : 229 ms</h1><p>純粹使用 swift 內建的 reversed 函式。 不用動腦 … ㄎㄎ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">String</span>(s.characters.reversed())</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Other-Solution-1"><a href="#Other-Solution-1" class="headerlink" title="Other Solution 1"></a>Other Solution 1</h1><p>使用迴圈不斷首尾對調對調。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">var</span> stringArray = <span class="type">Array</span>(s.characters)</div><div class="line">    <span class="keyword">var</span> i = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> j = s.characters.<span class="built_in">count</span> - <span class="number">1</span></div><div class="line">    </div><div class="line">    <span class="keyword">while</span> i &lt; j &#123;</div><div class="line">        <span class="keyword">let</span> temp = stringArray[i]</div><div class="line">        stringArray[i] = stringArray[j]</div><div class="line">        stringArray[j] = temp</div><div class="line">        i+=<span class="number">1</span></div><div class="line">        j-=<span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="type">String</span>(stringArray)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Other-Solution-2"><a href="#Other-Solution-2" class="headerlink" title="Other Solution 2"></a>Other Solution 2</h1><p>從字串的最後一個字元，一直往前加入到新的字串中。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">var</span> index = s.endIndex</div><div class="line">    <span class="keyword">var</span> result = <span class="string">""</span></div><div class="line">    </div><div class="line">    <span class="keyword">while</span> index != s.startIndex &#123;</div><div class="line">        index = s.index(before: index)</div><div class="line">        result.append(s[index])</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-575/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-575/" itemprop="url">
                  LeetCode#575 Distribute Candies - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-08-01T11:27:16+08:00">
                2017-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Hash-Table/" itemprop="url" rel="index">
                    <span itemprop="name">Hash Table</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-575/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-575/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Given an integer array with <code>even</code> length, where different numbers in this array represent different <code>kinds</code> of candies.<br>Each number means one candy of the corresponding kind. You need to distribute these candies <code>equally</code> in number to brother and sister.<br>Return the maximum number of kinds of candies the sister could gain.</p>
<p>你有<code>偶數</code>顆糖果，在陣列中<code>不同數字</code>代表不同糖果。<br>現在需要把這些糖果<code>平分</code>給哥哥和妹妹，請問妹妹最多可以拿到多少不一樣的糖果 ?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Example 1:</div><div class="line"> Input: candies = [1,1,2,2,3,3]</div><div class="line"> Output: 3</div><div class="line"> Explanation:</div><div class="line"> There are three different kinds of candies (1, 2 and 3), and two candies for each kind.</div><div class="line"> Optimal distribution: The sister has candies [1,2,3] and the brother has candies [1,2,3], too.</div><div class="line"> The sister has three different kinds of candies.</div></pre></td></tr></table></figure>
<p>現在有三種不同糖果 (1,2,3) ，每種各兩顆。<br>如果分成哥哥 (1,2,3) ，妹妹也 (1,2,3) ，妹妹最多可以拿到 3 種不同糖果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Example 2:</div><div class="line"> Input: candies = [1,1,2,3]</div><div class="line"> Output: 2</div><div class="line"> Explanation: For example, the sister has candies [2,3] and the brother has candies [1,1].</div><div class="line"> The sister has two different kinds of candies, the brother has only one kind of candies.</div></pre></td></tr></table></figure>
<p>如果分成哥哥 (1,1) ，妹妹 (2,3) ，妹妹最多可以拿到 2 種不同糖果。</p>
<h1 id="第一次解題-618-ms"><a href="#第一次解題-618-ms" class="headerlink" title="第一次解題 : 618 ms"></a>第一次解題 : 618 ms</h1><p>找出最多能夠分配的糖果數量 -&gt; <code>candies/2</code><br>找出所有種類的糖果 -&gt; <code>use Set remove duplicate</code></p>
<p><code>[1,2,3,4,5,6] -&gt; (6 &gt; 3) -&gt; 3</code><br>如果糖果種類比最多能夠分配的糖果數量多 -&gt; <code>return candies.count</code></p>
<p><code>[1,2,2,2,2,2] -&gt; (2 &lt; 3) -&gt; 2</code><br>如果能夠分配的糖果數量比種類多 -&gt; <code>return unique.count</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">distributeCandies</span><span class="params">(<span class="number">_</span> candies: [Int])</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> maxDivided = candies.<span class="built_in">count</span> / <span class="number">2</span></div><div class="line">    <span class="keyword">let</span> unique = <span class="type">Array</span>(<span class="type">Set</span>(candies))</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> unique.<span class="built_in">count</span> &gt; maxDivided &#123;</div><div class="line">        <span class="keyword">return</span> maxDivided</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> unique.<span class="built_in">count</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Better-Solution-422-ms"><a href="#Better-Solution-422-ms" class="headerlink" title="Better Solution : 422 ms"></a>Better Solution : 422 ms</h1><p>建立一個 Set 將 candy 依序放入，會自動剔除重複的。<br>回傳 min(種類數量, 最多分配數量)</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">distributeCandies</span><span class="params">(<span class="number">_</span> candies: [Int])</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> uniqueCandies: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = []</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> candy <span class="keyword">in</span> candies &#123; uniqueCandies.insert(candy) &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(uniqueCandies.<span class="built_in">count</span>, candies.<span class="built_in">count</span> / <span class="number">2</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-566/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-566/" itemprop="url">
                  LeetCode#566 Reshape the Matrix - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-07-31T14:03:28+08:00">
                2017-07-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Array/" itemprop="url" rel="index">
                    <span itemprop="name">Array</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-566/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-566/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>In MATLAB, there is a very useful function called ‘reshape’, which can reshape a matrix into a new one with different size but keep its original data.</p>
<p>You’re given a matrix represented by a two-dimensional array, and two positive integers r and c representing the row number and column number of the wanted reshaped matrix, respectively.</p>
<p>The reshaped matrix need to be filled with all the elements of the original matrix in the same row-traversing order as they were.</p>
<p>If the ‘reshape’ operation with given parameters is possible and legal, output the new reshaped matrix; Otherwise, output the original matrix.</p>
<p>將矩陣進行 ‘reshape’ 的動作，將它變成新的 Size 但卻保留原來的 data 。</p>
<p>給一個用二維陣列表示的矩陣，再輸入兩個整數，一個 r 代表新的列數 (row) ， 一個 c 代表新的行數 (column) 。</p>
<p>如果給的參數皆為正確，就輸出 ‘reshape’ 後的矩陣。相反，輸出原來矩陣。</p>
<p>Example 1:</p>
<blockquote>
<p>Input:</p>
<blockquote>
<p>nums =<br> [[1,2],<br> [3,4]]<br> r = 1, c = 4</p>
</blockquote>
<p>Output:</p>
<blockquote>
<p>[[1,2,3,4]]</p>
</blockquote>
</blockquote>
<p>Explanation:<br> The row-traversing of nums is [1,2,3,4]. The new reshaped matrix is a <code>1 * 4</code> matrix, fill it row by row by using the previous list.</p>
<p> <code>2 * 2</code> 矩陣轉為 <code>1 * 4</code> 之後， 變為 1 row 分別填入 [1,2,3,4]</p>
<p>Example 2:</p>
<blockquote>
<p>Input:</p>
<blockquote>
<p>nums =<br> [[1,2],<br> [3,4]]<br> r = 2, c = 4</p>
</blockquote>
<p>Output:</p>
<blockquote>
<p>[[1,2],<br> [3,4]]</p>
</blockquote>
</blockquote>
<p>Explanation:<br> There is no way to reshape a <code>2 * 2</code> matrix to a <code>2 * 4</code> matrix. So output the original matrix.</p>
<p><code>2 * 2</code> 矩陣不可能變成 <code>2 * 4</code> ， 所以輸出原本的矩陣 [[1,2], [3,4]]。</p>
<h1 id="第一次解題-142-ms"><a href="#第一次解題-142-ms" class="headerlink" title="第一次解題 : 142 ms"></a>第一次解題 : 142 ms</h1><p>先將原矩陣鋪成 (flat) 單個 Array， 確保 flatArray 的元素數量 = <code>R * C</code> ，否則就直接返回原矩陣。</p>
<p>使用巢狀迴圈建立每個 Row， 再對每個 Row 依序塞進位在 flatArray 的元素，最後輸出。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">matrixReshape</span><span class="params">(<span class="number">_</span> nums: [[Int]], <span class="number">_</span> r: Int, <span class="number">_</span> <span class="built_in">c</span>: Int)</span></span> -&gt; [[<span class="type">Int</span>]] &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> flatarray = nums.flatMap(&#123; $<span class="number">0</span> &#125;)</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> flatarray.<span class="built_in">count</span> != r*<span class="built_in">c</span> &#123;</div><div class="line">        <span class="keyword">return</span> nums</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> reshaped = [[<span class="type">Int</span>]]()</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;r &#123;</div><div class="line">        reshaped.append([<span class="type">Int</span>]())</div><div class="line">        <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">c</span> &#123;</div><div class="line">            reshaped[i].append(flatarray[<span class="number">0</span>])</div><div class="line">            flatarray.removeFirst()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> reshaped</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Best-Solution-56-ms"><a href="#Best-Solution-56-ms" class="headerlink" title="Best Solution : 56 ms"></a>Best Solution : 56 ms</h1><p>利用 elementArray 盛載 reshape 後每個 row 的 element 。</p>
<p>只要超過 column 數就把他裝進 resultArray 中，</p>
<p>如此下去直到填滿 resultArray 。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">matrixReshape</span><span class="params">(<span class="number">_</span> nums: [[Int]], <span class="number">_</span> r: Int, <span class="number">_</span> <span class="built_in">c</span>: Int)</span></span> -&gt; [[<span class="type">Int</span>]] &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> resultArray:[[<span class="type">Int</span>]] = <span class="type">Array</span>.<span class="keyword">init</span>()</div><div class="line">    <span class="keyword">var</span> elementArray:[<span class="type">Int</span>] = <span class="type">Array</span>.<span class="keyword">init</span>()</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> elementCount:<span class="type">Int</span> = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> firstArray <span class="keyword">in</span> nums</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> firstArray</div><div class="line">        &#123;</div><div class="line">            elementArray.append(val)</div><div class="line">            </div><div class="line">            <span class="keyword">if</span>(elementArray.<span class="built_in">count</span>&gt;=<span class="built_in">c</span>)</div><div class="line">            &#123;</div><div class="line">                resultArray.append(elementArray)</div><div class="line">                elementArray.removeAll()</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            elementCount = elementCount+<span class="number">1</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>(elementCount != r * <span class="built_in">c</span>)</div><div class="line">    &#123;</div><div class="line">        resultArray = nums</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> resultArray</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-557/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-557/" itemprop="url">
                  LeetCode#557 Reverse Words in a String III - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-07-30T13:43:20+08:00">
                2017-07-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/String/" itemprop="url" rel="index">
                    <span itemprop="name">String</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-557/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-557/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Given a string, you need to reverse the order of characters in each word within a sentence while still preserving whitespace and initial word order.</p>
<p>給一個字串，將字串中每個單詞反轉過來，組合成一個新的字串。<br>但單詞順序還是跟原本一樣，空白位置也一樣。</p>
<p>Example 1:<br> <code>Input: &quot;Let&#39;s take LeetCode contest&quot;</code><br> <code>Output: &quot;s&#39;teL ekat edoCteeL tsetnoc&quot;</code></p>
<p>Note: In the string, each word is separated by single space and there will not be any extra space in the string.</p>
<p>在字串中，每個單詞都被單個空白給區隔開來，也不會有多的空白在字串中。</p>
<h1 id="第一次解題-Accepted"><a href="#第一次解題-Accepted" class="headerlink" title="第一次解題 : Accepted"></a>第一次解題 : Accepted</h1><p>先將字串依 space 拆成 Array<br>對每個字做 Swift 內建的 String.characters.reversed()</p>
<p>取得反轉過的字串後， append 到答案的字串中，並且加上一個空白。<br>最後返回時，把最後一個空白清掉。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseWords</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> <span class="built_in">split</span> = s.components(separatedBy: <span class="string">" "</span>)</div><div class="line">    <span class="keyword">var</span> reversedWords = <span class="string">""</span></div><div class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">split</span> &#123;</div><div class="line">        reversedWords.append(<span class="type">String</span>(s.characters.reversed()))</div><div class="line">        reversedWords.append(<span class="string">" "</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> reversedWords.substring(to: reversedWords.index(before: reversedWords.endIndex))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Best-Solution-332-ms-lt-632-ms"><a href="#Best-Solution-332-ms-lt-632-ms" class="headerlink" title="Best Solution : 332 ms &lt; 632 ms"></a>Best Solution : 332 ms &lt; 632 ms</h1><p>一樣 String 拆成 Array ，對每個拆好的 String 進行自訂的 reverseWord 函式。<br>reverse 過的字串 append 到 result 中，並且判斷迴圈還沒到最後一個的都要加一個空白。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseWords</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> stringArray =  s.components(separatedBy: <span class="string">" "</span>)</div><div class="line">    <span class="keyword">var</span> result = <span class="string">""</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;stringArray.<span class="built_in">count</span> &#123;</div><div class="line">        result += reverseWord(stringArray[i])</div><div class="line">        <span class="keyword">if</span> i != stringArray.<span class="built_in">count</span> - <span class="number">1</span>  &#123;</div><div class="line">            result += <span class="string">" "</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>裡面自訂的 reverseWord 函式長得這樣 :</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseWord</span><span class="params">(<span class="number">_</span> s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">var</span> arrayOfString = <span class="type">Array</span>(s.characters)</div><div class="line">    <span class="keyword">var</span> i = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> j = arrayOfString.<span class="built_in">count</span> - <span class="number">1</span></div><div class="line">    </div><div class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</div><div class="line">        <span class="keyword">let</span> temp = arrayOfString[i]</div><div class="line">        arrayOfString[i] = arrayOfString[j]</div><div class="line">        arrayOfString[j] = temp</div><div class="line">        i += <span class="number">1</span></div><div class="line">        j -= <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="type">String</span>(arrayOfString)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>想法是這樣的 : </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 將字串換成 array : Let's -&gt; Array(Let's)</span></div><div class="line"> </div><div class="line">  0 &lt; 4 &#123;</div><div class="line">    temp = Array[0] -&gt; "L"</div><div class="line">    </div><div class="line">    Array[0] = Array[4] -&gt; Array(set's)</div><div class="line">    Array[4] = temp -&gt; Array(set'L)</div><div class="line">    </div><div class="line">    i = 1</div><div class="line">    j = 3</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> 1 &lt; 3 &#123;</div><div class="line">    temp = Array[1] -&gt; "e"</div><div class="line"> </div><div class="line">    Array[1] = Array[3] -&gt; Array(s't's)</div><div class="line">    Array[3] = temp -&gt; Array(s'teL)</div><div class="line"> </div><div class="line">    i = 2</div><div class="line">    j = 2</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> */</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-500/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-500/" itemprop="url">
                  LeetCode#500 Keyboard Row - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-07-29T17:22:55+08:00">
                2017-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Hash-Table/" itemprop="url" rel="index">
                    <span itemprop="name">Hash Table</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-500/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-500/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Given a List of words, return the words that can be typed using letters of alphabet on only one row’s of American keyboard like the image below.</p>
<p>給一串單詞陣列，從每一個單詞篩選出單詞全部的字母都位在鍵盤上同一行。<br>要以下方鍵盤圖片為標準 :<br><img src="/leetcode-500/keyboard.png" alt="Keyboard"></p>
<p>Example 1:<br> Input: [“Hello”, “Alaska”, “Dad”, “Peace”]<br> Output: [“Alaska”, “Dad”]</p>
<p>例如 Alaska 與 Dad 都位在 ASDFGHJKL 這行，所以就挑出來。</p>
<p>Note:<br> You may use one character in the keyboard more than once.<br> You may assume the input string will only contain letters of alphabet.</p>
<p> 假定每個字元都會用到一次以上。<br> 假定每個輸入的東西都是 a-z 字母。</p>
<h1 id="第一次解題-Accepted"><a href="#第一次解題-Accepted" class="headerlink" title="第一次解題 : Accepted"></a>第一次解題 : Accepted</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findWords</span><span class="params">(<span class="number">_</span> words: [String])</span></span> -&gt; [<span class="type">String</span>] &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> rules =  [<span class="string">"QWERTYUIOP"</span>, <span class="string">"ASDFGHJKL"</span>, <span class="string">"ZXCVBNM"</span>]</div><div class="line">    <span class="keyword">var</span> result = words</div><div class="line">    </div><div class="line">    words.forEach &#123; word <span class="keyword">in</span></div><div class="line">        <span class="comment">// 如果單詞不在規則內就把它 filter 掉</span></div><div class="line">        <span class="keyword">if</span> (checkWords(word: word.uppercased())) &#123;</div><div class="line">            result = result.<span class="built_in">filter</span> &#123; $<span class="number">0</span> != word &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="comment">// 定義 checkWords 函式確認是否該單字都在鍵盤同一行</span></div><div class="line">    <span class="comment">// true 表示該刪除， false 相反</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">checkWords</span><span class="params">(word: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        </div><div class="line">        <span class="comment">// 使用第一個單字來判斷這個單詞應該要對應哪一個單字</span></div><div class="line">        </div><div class="line">        <span class="keyword">let</span> rule = rules.<span class="built_in">filter</span> &#123; $<span class="number">0</span>.range(of: <span class="type">String</span>(word.characters.first!)) != <span class="literal">nil</span> &#125;</div><div class="line">        </div><div class="line">        <span class="comment">// 如果單字不在該規則中，就直接返回 true</span></div><div class="line">        <span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> word.characters &#123;</div><div class="line">            <span class="keyword">if</span> (rule.first!.range(of: <span class="type">String</span>(<span class="built_in">c</span>))) == <span class="literal">nil</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Best-Solution-For-Java"><a href="#Best-Solution-For-Java" class="headerlink" title="Best Solution ? For Java"></a>Best Solution ? For Java</h1><p>因為有神人使用正規式解答，但是我沒有精通，所以不知道在 Swift 要怎麼寫。。。<br>先放上 Java 的代碼，等哪天我會了再來解釋。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> String[] findWords(String[] words) &#123;</div><div class="line">    <span class="keyword">return</span> Stream.of(words).filter(s -&gt; s.toLowerCase().matches(<span class="string">"[qwertyuiop]*|[asdfghjkl]*|[zxcvbnm]*"</span>)).toArray(String[]::<span class="keyword">new</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://windsuzu.github.io/leetcode-476/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jay Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jay's Code">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/leetcode-476/" itemprop="url">
                  LeetCode#476 Number Complement - in Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2017-07-28T23:54:58+08:00">
                2017-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/Swift/Bit-Manipulation/" itemprop="url" rel="index">
                    <span itemprop="name">Bit Manipulation</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/leetcode-476/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="leetcode-476/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Given a positive integer, output its complement number. The complement strategy is to flip the bits of its binary representation.</p>
<p>給一個正整數，算出他的二補數 (2’s complement)。 二補數就是將該數字的二進制碼全部翻轉過來。</p>
<p>Note:<br> The given integer is guaranteed to fit within the range of a 32-bit signed integer.<br> You could assume no leading zero bit in the integer’s binary representation.</p>
<p>Example 1:<br> Input: 5<br> Output: 2<br>Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.</p>
<p>由於 5 的二進制是 101 ， 所以他的補數便是 010 ， 整數是 2</p>
<p>Example 2:<br> Input: 1<br> Output: 0<br> Explanation: The binary representation of 1 is 1 (no leading zero bits), and its complement is 0. So you need to output 0.</p>
<p>由於 1 的二進制是 1 ， 所以他的補數便是 0 ， 整數是 0</p>
<h1 id="第一次解題-Accepted"><a href="#第一次解題-Accepted" class="headerlink" title="第一次解題 : Accepted"></a>第一次解題 : Accepted</h1><p>將數字轉為二進制，尋遍二進制碼將數字轉換。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findComplement</span><span class="params">(<span class="number">_</span> num: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> binary = <span class="type">String</span>(num, radix: <span class="number">2</span>)</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> complement: <span class="type">String</span> = <span class="string">""</span></div><div class="line">    <span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> binary.characters &#123;</div><div class="line">        complement += <span class="built_in">c</span> == <span class="string">"0"</span> ? <span class="string">"1"</span> : <span class="string">"0"</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(complement, radix: <span class="number">2</span>)!</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Best-Solution"><a href="#Best-Solution" class="headerlink" title="Best Solution"></a>Best Solution</h1><p>遍尋一遍是很耗資源的做法。所以要使用二元運算的方法來解。</p>
<ol>
<li><p>先取得與二進制 num 相同長度的 mask<br> <code>5(101) -&gt; 111</code><br> <code>9(1001) -&gt; 1111</code></p>
</li>
<li><p>以 <code>5(101)</code> 舉例，取得 Most Significant Bit 就是影響這個數串最大的數字，也就是最左邊的數 -&gt; <code>(1)01</code>。<br>Java 有內建 <code>Integer.highestOneBit(num)</code> 的方法，但 Swift 只能自己手動建立，取得除了最大數為1其他數為0的值 -&gt; <code>(1)00</code><br>接著對該數字利用下溢位 -1 ，取得 mask -&gt; <code>111</code></p>
</li>
<li><p>取得 mask 後，解題方法有二:</p>
<p>3-1: 使用 ^ 運算子，相同數 XOR 交換<br><code>num(101) ^ mask(111) = 010</code></p>
<p>3-2: 使用 ~ 跟 &amp; 運算子，對 num 作 NOT 運算取補數，並且跟 mask 作 AND 運算<br><code>~num(101) &amp; 111 = 010</code><br><code>-&gt; 11111111111111111111111111111010 &amp; 0000...111 = 010</code></p>
</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findComplement</span><span class="params">(<span class="number">_</span> num: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> mask = <span class="number">1</span></div><div class="line">    <span class="keyword">while</span>(mask &lt;= num) &#123;</div><div class="line">        mask &lt;&lt;= <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    mask-=<span class="number">1</span></div><div class="line">    <span class="keyword">return</span> num ^ mask</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Jay Wang" />
          <p class="site-author-name" itemprop="name">Jay Wang</p>
           
              <p class="site-description motion-element" itemprop="description">慢慢學習。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">116</span>
                <span class="site-state-item-name">文章</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">55</span>
                <span class="site-state-item-name">分類</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">標籤</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jay Wang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://jays-code.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

  

</body>
</html>
